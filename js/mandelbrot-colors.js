// Generated by CoffeeScript 1.4.0
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.define(function(){"strict mode";var t;t=function(){function s(n,r,i){var s,o=this;this.colorConverter=n;this.drawEscapeTimesInContext=e(this.drawEscapeTimesInContext,this);if(this.colorConverter==null||this.colorConverter.colorToRgb==null)throw"Cannot construct MandelbrotColors without a colorConverter that imlements colorToRgb({h:,s:,v:}).";this.coloringFunctions={hue:function(e){return o.colorConverter.colorToRgb({h:360*e/255,s:1,v:1})},monochrome:function(e){return{r:e,g:e,b:e}}};s=t(this.coloringFunctions.hue);this.settings={isBinary:!1,maxIterations:r(),loopEvery:i(),insideSetColor:{r:0,g:0,b:0},colorScheme:s};this.cachedImage=new Image}var t,n,r,i=this;s.prototype.drawEscapeTimesInContext=function(e,t){var i,s,o,u,a,f,l,c=this;a=t.canvas.width;s=t.canvas.height;o=t.createImageData(a,s);f=function(t){var i,s,u;s=function(i){var s;s=n(e[t][i],c.settings);r(o,i,t,s.r,s.g,s.b,255);return 0};for(i=u=0;0>a?u>=a:u<=a;i=0>a?--u:++u)s(i);return 0};for(u=l=0;0>s?l>=s:l<=s;u=0>s?--l:++l)f(u);t.putImageData(o,0,0);i=t.canvas.toDataURL("image/png");return this.cachedImage.src=i};t=function(e){var t,n,r;r=[];for(t=n=0;n<=255;t=++n)r.push(e(t));return r};n=function(e,t){var n,r,i,s;s=t.maxIterations;if(e<s){if(t.isBinary)n=t.colorScheme[0];else{i=t.loopEvery;r=Math.floor((e-Math.floor(e/i)*i)*(255/i));n=t.colorScheme[r]}return n}return t.insideSetColor};r=function(e,t,n,r,i,s,o){var u;u=(t+n*e.width)*4;e.data[u+0]=r;e.data[u+1]=i;e.data[u+2]=s;return e.data[u+3]=o};return s}.call(this);return t})}).call(this);